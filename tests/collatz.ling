let n = 27;
let steps = 40;

let p = 0;
let i = 0;

while(steps)
{
    steps = steps - 1;
    p = 0;
    i = n;
    while(i) { i = i - 1; p = 1 - p; }

    if(p)
        n = 3 * n + 1;
    if(1-p)
        n = n / 2;
    
    display n;
}